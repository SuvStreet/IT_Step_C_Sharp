> **Материал подготовлен преподавателем Комаров Иван Николаевич по курсу "Платформа Microsoft.NET и язык программирования С#". Учебное заведение "Компьютерная Академия Шаг".**

Свойства. Индексаторы
===

**`Свойство`** - член класса. 
**`Свойство`** сочетает в себе поле с методами доступа к нему. 
**`Свойство`** – «умное» поле т.е. поля с дополнительной логикой. 

**`.NET`** поддерживает два вида свойств:   
* без  параметров - свойства,  
* с  параметрами – индексаторы.

```cs
тип имя 
{ 
  get 
  { 
    // код аксессора для чтения из поля 
  } 
  set 
  { 
    // код аксессора для записи в поле 
  } 
} 
```

***

```cs
int id; 
// свойство для доступа к закрытому полю класса - id 
public int Id 
{ 
   get { return id; } 
   set { if (value > 0)id = value; } 
}       
 
string name; 
// свойство для доступа к закрытому полю класса - name 
public string Name 
{   
  get { return name; } 
  set 
  {
    if (value.Length!=0) name = value; 
    else name = "noName"; 
  } 
} 
 
// Автоматическое свойство 
public int Pages { get; set; } 
```

***

С версии C# 3.0, появилась возможность для реализации очень простых свойств, не прибегая к явному определению переменной, которой управляет свойство.  
 
Базовую переменную для свойства автоматически предоставляет компилятор. Такое свойство называется **`автоматически реализуемым`**. 

```cs
тип имя { get; set; } 
```

Возможные проблемы 

* Синтаксис  объявления поля не может включать инициализацию (решено в С#6.0) 

```cs
public int X { get; } = 5;
```

* Механизм сериализации на этапе выполнения сохраняет имя поля в сериализованном потоке. 

* Во время отладки нельзя указать точку останова.

```cs
// Свойство Length только для чтения,  
public int Length  
{  
   get  
   { 
      return len;  
   } 
// ВАЖНО! Должен быть хотя бы один аксессор 
}  
```

```cs
fs.Length = 10; // Ошибка, запись запрещена!  
public int Pages { get; set; } 
// ВАЖНО! Должны быть обязательно два аксессора
```

Свойствам присущ ряд существенных ограничений.
---

1. Свойство не определяет место для хранения данных, и поэтому не может быть передано методу в качестве параметра **`ref или out`**.  

2. Свойство **`не подлежит перегрузке`**. Наличие двух разных свойств с доступом к одной и той же переменной допускается, но это, скорее, исключение, чем правило.  

3. Свойство **`не должно изменять состояние базовой переменной при вызове аксессора get`**. Действие аксессора get не должно носить характер  вмешательства в функционирование переменной. 











***

[**-->     HomeWork9     <--**]()

**18.09.2017**

[**<-- Пространство имён**](https://github.com/SuvStreet/IT_Step_C_Sharp/tree/master/ClassWork/Day7#Пространство-имён) `=/=` [**Наследование -->**](https://github.com/SuvStreet/IT_Step_C_Sharp/tree/master/ClassWork/Day_10#Наследование)
